# DITA-OT Publishing with GitHub Actions

Template site for publishing Bootstrap-themed HTML and PDF using [GitHub Action for DITA-OT Builds](https://github.com/dita-ot/dita-ot-action).

## Instructions

1. Click on the "Use this template" green button on the top of this page
2. Create a repository based on the template.
  - **Be sure to select the "Include all branches" option. You will need all branches of the repository.**

### Next Steps and Requirements
- Upload or drag and drop your DITA files inside the `dita` folder of your repository based on this template
- Create a file named `index.dita` inside the `dita` folder. This will be the "homepage" of the website deliverable generated by the action. This needs to be a topic with homepage-like content for your intended audience. 
- Now, the action will automatically publish a Bootstrap-themed HTML and a PDF using the DITA Open Toolkit
- You must name your main DITA map `document.ditamap`
  - Of course, you can rename the map, but that also requires renaming it inside the workflow file (and you don't want to do that... do you?)
- Customize your header file to replace the banner title and icon
- Change your theme for PDF and HTML styles.

###  Ensure GITHUB_TOKEN Has Sufficient Permissions
- Navigate to Settings → Actions → General in your repository
- Under Workflow permissions, ensure that Read and write permissions is selected. This gives the GITHUB_TOKEN the necessary permission to push to the gh-pages branch.

---
## A Bit More How-to Information

### Create Your Content in the `dita` Folder

All of your DITA files (topics, maps, images, and other resources) should be placed inside the `dita` folder located within the repository.

### Trigger the GitHub Action for Publishing

Once you have committed your changes, the GitHub Action for publishing will automatically trigger and will run in the background.

The GitHub Action workflow is pre-configured to start every time you commit changes to the repository.
It is defined in the `.github/workflows/ci.yml` file (CI stands for continuous integration), which runs the DITA Open Toolkit to process your DITA content and generate the output files (e.g., HTML, PDF).

### View the Workflow Progress

To check if the publishing process is successful, you can go to the "Actions" tab at the top of your repository page.

You’ll see a list of workflows. Look for the most recent one triggered by your commit.

A green checkmark indicates success, while a red X means the workflow failed. If it fails, click on the job to see the logs and investigate any potential issues (such as broken links in your DITA map or syntax errors).

### Access the Published Output

If the workflow completes successfully, the output files (such as HTML or PDF) will be placed in the designated out directory or another specified folder, depending on your workflow configuration.

You can find and download these files from the repository directly or view them through the GitHub Pages side of your repository.

### Customize and Style the Deliverables

If, for some reason, you do not want your deliverables (PDF and website) styled in Virginia Tech colors, you can customize them by editing the following files:

#### For the PDF Deliverable 
- Inside the `.github/themes` folder, replace the file `logo.png` with the logo you want to display on the cover page of your PDF deliverable. Keep the file name as `logo.png` unless you also plan to modify the publishing action, which is beyond the scope of this basic customization section.  
- In the same folder, edit the `theme.yaml` file to update brand colors, fonts, and other settings. If you are unsure how to make changes in a YAML file, we strongly recommend pasting the file into an LLM chat agent and requesting a customized version.

#### For the Website Deliverable
- You will likely want to modify the header to replace the default "DITA Open Toolkit experiments" text included in the template. The `header.xml` file is located inside the `.github/dita-ot` folder, and the text appears on line 24 within the tag `<span class="align-middle">DITA Open Toolkit experiments</span>`.  
- In the same folder, you can also edit `footer.xml` and, most importantly, `theme.css`, which controls the website’s colors and fonts. If you are not familiar with editing CSS, we again recommend pasting the file into an LLM chat agent and requesting a customized version.  
- For more advanced customization of the website deliverable, refer to the [`dita-bootstrap` plugin documentation](https://infotexture.github.io/dita-bootstrap/) maintained by Roger Sheen.

## Credits

Thanks to the following DITA-OT experts:
- Jason Fox
- Roger Sheen.
